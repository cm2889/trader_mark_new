{% extends 'base.html' %}
{% load static %}

{% block title %}Penalty Details{% endblock %}

{% block breadcrumb %}
<a href="{% url 'backend:vehicle_management' %}">Vehicle Management</a>
<span class="mx-1">›</span>
<a href="{% url 'traffic_violation_penalty:list' %}">Traffic Violation Penalties</a>
<span class="mx-1">›</span>
<span>Details</span>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-5xl">
    <!-- Header Section -->
    <div class="flex justify-between items-center mb-6">
        <div>
            <h1 class="text-3xl font-bold text-[var(--text-color)]">Penalty Details</h1>
            <p class="text-[var(--text-light-color)] mt-1">Complete information about the traffic violation penalty</p>
        </div>
        <div class="flex gap-2">
           
            <a href="{% url 'traffic_violation_penalty:list' %}" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg font-medium transition-all duration-200">
                <i class="fas fa-arrow-left"></i> Back
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
        <!-- Violation Information Section -->
        <div class="p-6 border-b border-gray-200">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Violation Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Vehicle Plate No</p>
                    <p class="text-base text-gray-900 font-semibold">{{ penalty.violation.vehicle.plate_no }}</p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Violation Type</p>
                    <p class="text-base text-gray-900">{{ penalty.violation.violation_type }}</p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Violation Date</p>
                    <p class="text-base text-gray-900">{{ penalty.violation.violation_date|date:"F d, Y" }}</p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Violation Location</p>
                    <p class="text-base text-gray-900">{{ penalty.violation.location|default:"-" }}</p>
                </div>
            </div>
        </div>

        <!-- Penalty Information Section -->
        <div class="p-6 border-b border-gray-200">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Penalty Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Fine Amount</p>
                    <p class="text-2xl text-gray-900 font-bold">${{ penalty.fine_amount }}</p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Payment Status</p>
                    <div class="mt-1">
                        {% if penalty.payment_status == 'PAID' %}
                        <span class="px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800">
                            <i class="fas fa-check-circle"></i> Paid
                        </span>
                        {% elif penalty.payment_status == 'PENDING' %}
                        <span class="px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800">
                            <i class="fas fa-clock"></i> Pending
                        </span>
                        {% elif penalty.payment_status == 'OVERDUE' %}
                        <span class="px-3 py-1 text-sm font-medium rounded-full bg-red-100 text-red-800">
                            <i class="fas fa-exclamation-circle"></i> Overdue
                        </span>
                        {% else %}
                        <span class="px-3 py-1 text-sm font-medium rounded-full bg-gray-100 text-gray-800">
                            {{ penalty.get_payment_status_display }}
                        </span>
                        {% endif %}
                    </div>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Payment Method</p>
                    <p class="text-base text-gray-900">{{ penalty.get_payment_method_display|default:"-" }}</p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Paid Date</p>
                    <p class="text-base text-gray-900">{{ penalty.paid_date|date:"F d, Y"|default:"-" }}</p>
                </div>
                
                {% if penalty.remarks %}
                <div class="md:col-span-2">
                    <p class="text-sm font-medium text-gray-500 mb-1">Remarks</p>
                    <p class="text-base text-gray-900">{{ penalty.remarks }}</p>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Metadata Section -->
        <div class="p-6 bg-gray-50">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Record Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Created By</p>
                    <p class="text-base text-gray-900">{{ penalty.created_by.get_full_name|default:penalty.created_by.username }}</p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Created At</p>
                    <p class="text-base text-gray-900">{{ penalty.created_at|date:"F d, Y H:i" }}</p>
                </div>
                {% if penalty.updated_by %}
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Updated By</p>
                    <p class="text-base text-gray-900">{{ penalty.updated_by.get_full_name|default:penalty.updated_by.username }}</p>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-500 mb-1">Updated At</p>
                    <p class="text-base text-gray-900">{{ penalty.updated_at|date:"F d, Y H:i" }}</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
