{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}

<!-- Total Sales, Orders, Customers, and Average Order Value -->
<section class="mt-4">
  <div class="">
    <h2 class="text-slate-600 text-lg sm:text-xl font-medium">
      Track your business performance and analytics
    </h2>

    <div class="mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4">
      <!-- Total Sales -->
      <article class="rounded-2xl bg-white p-5 shadow-sm ring-1 ring-slate-200/80">
        <div class="flex items-start justify-between">
          <h3 class="text-base font-medium text-[#101828]">Total Sales</h3>
          <span class="inline-grid h-9 w-9 place-items-center rounded-full bg-[#FFF4E0] text-[#FFAE2C]">
            <!-- icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
              <path d="M17.5 5a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3Z" stroke="#FFAE2C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2.774 11.144C1.771 12.263 1.75 13.953 2.67 15.144c1.787 2.32 3.866 4.399 6.186 6.186c1.19.92 2.88.898 4.001-.105c3.027-2.708 5.872-5.614 8.515-8.698c.267-.307.432-.69.471-1.094c.164-1.796.503-6.98-.902-8.384S14.362 1.993 12.566 2.158a2.19 2.19 0 0 0-1.094.47a72.8 72.8 0 0 0-8.698 8.516Z" stroke="#FFAE2C" stroke-width="1.5"/>
              <path d="M13.314 10.675l.687-.689M8.66 15.326l-.653.653" stroke="#FFAE2C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </div>
        <p class="mt-2 text-3xl font-semibold tracking-tight text-slate-900 tabular-nums">$331,000</p>
        <p class="mt-2 text-xs flex items-center">
          <span class="inline-flex items-center gap-1 font-medium text-[#00A63E]">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 shrink-0" viewBox="0 0 12 12" fill="none" stroke="#00A63E" stroke-linecap="round" stroke-linejoin="round">
              <path d="M2.5 6L6 2.5L9.5 6M6 9.5V2.5"/>
            </svg>
            +12.5%
          </span>
          <span class="ml-1 text-slate-500">from last month</span>
        </p>
      </article>

      <!-- Total Orders -->
      <article class="rounded-2xl bg-white p-5 shadow-sm ring-1 ring-slate-200/80">
        <div class="flex items-start justify-between">
          <h3 class="text-base font-medium text-[#101828]">Total Orders</h3>
          <span class="inline-grid h-9 w-9 place-items-center rounded-full bg-[#E0EFFF] text-[#4A7AE3]">
            <!-- icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
              <path d="M8 22a1 1 0 1 0 0-2a1 1 0 0 0 0 2Zm11 0a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z" stroke="#4A7AE3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2.051 2.051h2l2.66 12.42c.097.454.35.861.715 1.15c.365.288.819.44 1.284.43h9.78c.455-.001.897-.156 1.251-.441c.354-.286.6-.684.698-1.129l1.65-7.43H5.121" stroke="#4A7AE3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </div>
        <p class="mt-2 text-3xl font-semibold tracking-tight text-slate-900 tabular-nums">2,350</p>
        <p class="mt-2 text-xs flex items-center">
          <span class="inline-flex items-center gap-1 font-medium text-[#EB3C3C]">
            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none">
              <path d="M9.5 6L6 9.5L2.5 6M6 2.5V9.5" stroke="#EB3C3C" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            -12.5%
          </span>
          <span class="ml-1 text-slate-500">from last month</span>
        </p>
      </article>

      <!-- AOV -->
      <article class="rounded-2xl bg-white p-5 shadow-sm ring-1 ring-slate-200/80">
        <div class="flex items-start justify-between">
          <h3 class="text-base font-medium text-[#101828]">Average Order Value</h3>
          <span class="inline-grid h-9 w-9 place-items-center rounded-full bg-[#FBE0FF] text-[#F039A7]">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
              <path d="M16 7H22V13" stroke="#F039A7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M22 7L13.5 15.5L8.5 10.5L2 17" stroke="#F039A7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
        </div>
        <p class="mt-2 text-3xl font-semibold tracking-tight text-slate-900 tabular-nums">$140.85</p>
        <p class="mt-2 text-xs flex items-center">
          <span class="inline-flex items-center gap-1 font-medium text-[#00A63E]">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 shrink-0" viewBox="0 0 12 12" fill="none" stroke="#00A63E" stroke-linecap="round" stroke-linejoin="round">
              <path d="M2.5 6L6 2.5L9.5 6M6 9.5V2.5"/>
            </svg>
            +12.5%
          </span>
          <span class="ml-1 text-slate-500">from last month</span>
        </p>
      </article>

      <!-- Total Customers -->
      <article class="rounded-2xl bg-white p-5 shadow-sm ring-1 ring-slate-200/80">
        <div class="flex items-start justify-between">
          <h3 class="text-base font-medium text-[#101828]">Total Customers</h3>
          <span class="inline-grid h-9 w-9 place-items-center rounded-full bg-[#E0FFE8] text-[#0CB920]">
            <!-- icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M22.5 21C22.5 21 24 21 24 19.5C24 18 22.5 13.5 16.5 13.5C10.5 13.5 9 18 9 19.5C9 21 10.5 21 10.5 21H22.5ZM10.533 19.5L10.5 19.494C10.5015 19.098 10.7505 17.949 11.64 16.914C12.468 15.9435 13.923 15 16.5 15C19.0755 15 20.5305 15.945 21.36 16.914C22.2495 17.949 22.497 19.0995 22.5 19.494L22.488 19.497L22.467 19.5H10.533ZM16.5 10.5C17.2956 10.5 18.0587 10.1839 18.6213 9.62132C19.1839 9.05871 19.5 8.29565 19.5 7.5C19.5 6.70435 19.1839 5.94129 18.6213 5.37868C18.0587 4.81607 17.2956 4.5 16.5 4.5C15.7044 4.5 14.9413 4.81607 14.3787 5.37868C13.8161 5.94129 13.5 6.70435 13.5 7.5C13.5 8.29565 13.8161 9.05871 14.3787 9.62132C14.9413 10.1839 15.7044 10.5 16.5 10.5ZM21 7.5C21 8.09095 20.8836 8.67611 20.6575 9.22208C20.4313 9.76804 20.0998 10.2641 19.682 10.682C19.2641 11.0998 18.768 11.4313 18.2221 11.6575C17.6761 11.8836 17.0909 12 16.5 12C15.9091 12 15.3239 11.8836 14.7779 11.6575C14.232 11.4313 13.7359 11.0998 13.318 10.682C12.9002 10.2641 12.5687 9.76804 12.3425 9.22208C12.1164 8.67611 12 8.09095 12 7.5C12 6.30653 12.4741 5.16193 13.318 4.31802C14.1619 3.47411 15.3065 3 16.5 3C17.6935 3 18.8381 3.47411 19.682 4.31802C20.5259 5.16193 21 6.30653 21 7.5ZM10.404 13.92C9.80364 13.7324 9.18526 13.6082 8.559 13.5495C8.20706 13.5152 7.85361 13.4987 7.5 13.5C1.5 13.5 0 18 0 19.5C0 20.5 0.5 21 1.5 21H7.824C7.60174 20.5317 7.49084 20.0183 7.5 19.5C7.5 17.985 8.0655 16.437 9.135 15.144C9.4995 14.703 9.924 14.2905 10.404 13.92ZM7.38 15C6.49279 16.3342 6.01327 17.8978 6 19.5H1.5C1.5 19.11 1.746 17.955 2.64 16.914C3.4575 15.96 4.878 15.03 7.38 15.0015V15ZM2.25 8.25C2.25 7.05653 2.72411 5.91193 3.56802 5.06802C4.41193 4.22411 5.55653 3.75 6.75 3.75C7.94347 3.75 9.08807 4.22411 9.93198 5.06802C10.7759 5.91193 11.25 7.05653 11.25 8.25C11.25 9.44347 10.7759 10.5881 9.93198 11.432C9.08807 12.2759 7.94347 12.75 6.75 12.75C5.55653 12.75 4.41193 12.2759 3.56802 11.432C2.72411 10.5881 2.25 9.44347 2.25 8.25ZM6.75 5.25C5.95435 5.25 5.19129 5.56607 4.62868 6.12868C4.06607 6.69129 3.75 7.45435 3.75 8.25C3.75 9.04565 4.06607 9.80871 4.62868 10.3713C5.19129 10.9339 5.95435 11.25 6.75 11.25C7.54565 11.25 8.30871 10.9339 8.87132 10.3713C9.43393 9.80871 9.75 9.04565 9.75 8.25C9.75 7.45435 9.43393 6.69129 8.87132 6.12868C8.30871 5.56607 7.54565 5.25 6.75 5.25Z" fill="#0CB920"/>
            </svg>
          </span>
        </div>
        <p class="mt-2 text-3xl font-semibold tracking-tight text-slate-900 tabular-nums">566</p>
        <p class="mt-2 text-xs flex items-center">
          <span class="inline-flex items-center gap-1 font-medium text-[#00A63E]">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 shrink-0" viewBox="0 0 12 12" fill="none" stroke="#00A63E" stroke-linecap="round" stroke-linejoin="round">
              <path d="M2.5 6L6 2.5L9.5 6M6 9.5V2.5"/>
            </svg>
            +12.5%
          </span>
          <span class="ml-1 text-slate-500">from last month</span>
        </p>
      </article>
    </div>
  </div>
</section>

<!-- Chart (CanvasJS) -->
<section class="mt-4">
  <div class="">
    <article class="rounded-2xl bg-white p-6 shadow-sm ring-1 ring-slate-200/80">
      <header class="mb-4">
        <h3 class="text-lg font-semibold text-slate-800">Revenue Trend</h3>
        <p class="text-sm text-slate-500">Company revenue by year</p>
      </header>

      <!-- Important: explicit inline height so CanvasJS can size immediately -->
      
      <div id="revenueChartWrapper" class="relative">
          <div id="revenueChart" class="w-full" style="height: 360px;"></div>

          <!-- Overlay that hides CanvasJS Trial -->
          <div class="absolute left-0 bottom-0 w-[7%] h-4 bg-white pointer-events-none"></div>
      </div>
    </article>
  </div>
</section>

<!-- Sales & Customer Insights -->
<section class="mt-4">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch">
    <!-- Sales by Channel -->
    <article class="h-full rounded-2xl bg-white ring-1 ring-slate-200/80 shadow-sm p-6 flex flex-col justify-between">
      <div>
        <h3 class="text-lg font-semibold text-slate-800">Sales by Channel</h3>
        <p class="text-[44px] leading-none font-semibold text-slate-900 mt-4 tabular-nums">$331,000</p>
        <p class="text-sm text-slate-500 mt-1">Sales across platforms</p>
      </div>

      <div class="mt-6 space-y-3">
        <div class="flex items-center justify-between rounded-xl bg-amber-50 ring-1 ring-amber-100 px-4 py-3">
          <span class="font-medium text-slate-800">POS</span>
          <div class="flex items-center gap-2">
            <span class="font-semibold text-slate-900 tabular-nums">$29,340.20</span>
            <span class="px-2 py-0.5 rounded-md text-xs bg-green-100 text-green-700 font-semibold">+3.4%</span>
          </div>
        </div>
        <div class="flex items-center justify-between rounded-xl bg-blue-50 ring-1 ring-blue-100 px-4 py-3">
          <span class="font-medium text-slate-800">Website</span>
          <div class="flex items-center gap-2">
            <span class="font-semibold text-slate-900 tabular-nums">$95,080.30</span>
            <span class="px-2 py-0.5 rounded-md text-xs bg-rose-100 text-rose-600 font-semibold">-0.1%</span>
          </div>
        </div>
        <div class="flex items-center justify-between rounded-xl bg-fuchsia-50 ring-1 ring-fuchsia-100 px-4 py-3">
          <span class="font-medium text-slate-800">Social Media</span>
          <div class="flex items-center gap-2">
            <span class="font-semibold text-slate-900 tabular-nums">$95,080.30</span>
            <span class="px-2 py-0.5 rounded-md text-xs bg-rose-100 text-rose-600 font-semibold">-0.1%</span>
          </div>
        </div>
      </div>
    </article>

    <!-- Customer Insights -->
    <article class="h-full rounded-2xl bg-white ring-1 ring-slate-200/80 shadow-sm p-6 flex flex-col justify-between">
        <div class="flex items-start justify-between">
            <h3 class="text-lg font-semibold text-slate-800">Customer Insights</h3>

            <!-- Dropdown container (restrict width and add arrow) -->
            <div class="relative hidden sm:block w-[120px]">
                <select
                    class="select2-items w-[120px] appearance-none pr-8
                        px-3.5 py-2 rounded-xl bg-white ring-1 ring-slate-200 shadow-sm
                        text-sm font-medium text-slate-700 focus:outline-none focus:ring-2
                        focus:ring-slate-300"
                >
                    <option value="weekly">Weekly</option>
                    <option value="monthly" selected>Monthly</option>
                    <option value="half-yearly">Half Yearly</option>
                    <option value="yearly">Yearly</option>
                </select>

                
            </div>
        </div>



      <div class="mt-5">
        <div class="flex items-center gap-2">
          <p class="text-[44px] leading-none font-semibold text-slate-900 tabular-nums">12,450</p>
          <span class="px-2 py-0.5 rounded-md bg-green-100 text-green-700 font-semibold text-xs">+3.4%</span>
        </div>
        <p class="text-sm text-slate-500 mt-1">Total Customers</p>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <div class="rounded-xl ring-1 ring-slate-200 p-4">
          <p class="text-xs text-slate-500">New Customers</p>
          <div class="flex items-center gap-2 mt-1">
            <span class="text-2xl font-semibold text-slate-900 tabular-nums">324</span>
            <span class="text-green-700 text-xs font-semibold bg-green-100 px-2 py-0.5 rounded-md">+3.4%</span>
          </div>
        </div>
        <div class="rounded-xl ring-1 ring-slate-200 p-4">
          <p class="text-xs text-slate-500">Customer Lifetime Value</p>
          <div class="flex items-center gap-2 mt-1">
            <span class="text-2xl font-semibold text-slate-900 tabular-nums">$2,340</span>
            <span class="text-green-700 text-xs font-semibold bg-green-100 px-2 py-0.5 rounded-md">+11.4%</span>
          </div>
        </div>
        <div class="rounded-xl ring-1 ring-slate-200 p-4">
          <p class="text-xs text-slate-500">Returning Customers</p>
          <div class="flex items-center gap-2 mt-1">
            <span class="text-2xl font-semibold text-slate-900 tabular-nums">78.4%</span>
            <span class="text-rose-600 text-xs font-semibold bg-rose-100 px-2 py-0.5 rounded-md">-1.4%</span>
          </div>
        </div>
        <div class="rounded-xl ring-1 ring-slate-200 p-4">
          <p class="text-xs text-slate-500">New Customer Order Value</p>
          <div class="flex items-center gap-2 mt-1">
            <span class="text-2xl font-semibold text-slate-900 tabular-nums">$533</span>
            <span class="text-green-700 text-xs font-semibold bg-green-100 px-2 py-0.5 rounded-md">+7.0%</span>
          </div>
        </div>
      </div>
    </article>
  </div>
</section>

<!-- Top Products & Top Customers -->
<section class="mt-4">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch">
    <!-- Top Products -->
    <article class="h-full rounded-2xl bg-white ring-1 ring-slate-200/80 shadow-sm p-6 flex flex-col">
      <header class="mb-5">
        <h3 class="text-[22px] leading-tight font-semibold text-slate-800">Top Performing Products</h3>
        <p class="text-sm text-slate-500">Best selling products by revenue</p>
      </header>

      <div class="flex-1 overflow-x-auto">
        <table class="w-full text-sm">
          <thead class="text-xs text-slate-600">
            <tr class="border-y border-slate-200 bg-slate-50/60">
              <th class="py-2.5 pl-3 pr-2 text-left font-medium">Product</th>
              <th class="py-2.5 px-2 text-right font-medium">Sales Quantity</th>
              <th class="py-2.5 pl-2 pr-3 text-right font-medium">Sales Amount</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-slate-100 text-slate-700 tabular-nums">
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Wireless Headphones</td><td class="py-3 px-2 text-right">1240</td><td class="py-3 pl-2 pr-3 text-right">$148,800</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Smart Watch</td><td class="py-3 px-2 text-right">980</td><td class="py-3 pl-2 pr-3 text-right">$196,000</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Laptop Stand</td><td class="py-3 px-2 text-right">756</td><td class="py-3 pl-2 pr-3 text-right">$45,360</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">USB-C Cable</td><td class="py-3 px-2 text-right">2100</td><td class="py-3 pl-2 pr-3 text-right">$52,500</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Phone Case</td><td class="py-3 px-2 text-right">1890</td><td class="py-3 pl-2 pr-3 text-right">$56,700</td></tr>
          </tbody>
        </table>
      </div>
    </article>

    <!-- Top Customers -->
    <article class="h-full rounded-2xl bg-white ring-1 ring-slate-200/80 shadow-sm p-6 flex flex-col">
      <header class="mb-5">
        <h3 class="text-[22px] leading-tight font-semibold text-slate-800">Top Customers</h3>
        <p class="text-sm text-slate-500">Highest value customers</p>
      </header>

      <div class="flex-1 overflow-x-auto">
        <table class="w-full text-sm">
          <thead class="text-xs text-slate-600">
            <tr class="border-y border-slate-200 bg-slate-50/60">
              <th class="py-2.5 pl-3 pr-2 text-left font-medium">Customer</th>
              <th class="py-2.5 px-2 text-right font-medium">Orders</th>
              <th class="py-2.5 px-2 text-right font-medium">Spent</th>
              <th class="py-2.5 pl-2 pr-3 text-right font-medium">Avg. Order Value</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-slate-100 text-slate-700 tabular-nums">
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">John Smith</td><td class="py-3 px-2 text-right">24</td><td class="py-3 px-2 text-right">$4,800</td><td class="py-3 pl-2 pr-3 text-right text-blue-600">$12,000</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Sarah Johnson</td><td class="py-3 px-2 text-right">18</td><td class="py-3 px-2 text-right">$3,600</td><td class="py-3 pl-2 pr-3 text-right text-blue-600">$9,500</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Mike Chen</td><td class="py-3 px-2 text-right">22</td><td class="py-3 px-2 text-right">$4,400</td><td class="py-3 pl-2 pr-3 text-right text-blue-600">$11,200</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Emily Davis</td><td class="py-3 px-2 text-right">15</td><td class="py-3 px-2 text-right">$3,000</td><td class="py-3 pl-2 pr-3 text-right text-blue-600">$8,500</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Alex Wilson</td><td class="py-3 px-2 text-right">20</td><td class="py-3 px-2 text-right">$4,000</td><td class="py-3 pl-2 pr-3 text-right text-blue-600">$10,800</td></tr>
          </tbody>
        </table>
      </div>
    </article>
  </div>
</section>

<!-- Traffic Sources & Operational Performance -->
<section class="mt-4">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-stretch">
    <!-- Traffic Sources -->
    <article class="h-full rounded-2xl bg-white ring-1 ring-slate-200/80 shadow-sm p-6 flex flex-col">
      <header class="mb-5">
        <h3 class="text-[22px] leading-tight font-semibold text-slate-800">Traffic Sources</h3>
        <p class="text-sm text-slate-500">Website traffic and conversion by source</p>
      </header>

      <div class="flex-1 overflow-x-auto">
        <table class="w-full text-sm">
          <thead class="text-xs text-slate-600 border-y border-slate-200 bg-slate-50/60">
            <tr>
              <th class="py-2.5 pl-3 pr-2 text-left font-medium">Source</th>
              <th class="py-2.5 px-2 text-right font-medium">Visitors</th>
              <th class="py-2.5 px-2 text-right font-medium">Conversions</th>
              <th class="py-2.5 pl-2 pr-3 text-right font-medium">Rate</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-slate-100 text-slate-700 tabular-nums">
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Organic Search</td><td class="py-3 px-2 text-right">45,000</td><td class="py-3 px-2 text-right">2,250</td><td class="py-3 pl-2 pr-3 text-right text-emerald-600 font-medium">5%</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Direct</td><td class="py-3 px-2 text-right">32,000</td><td class="py-3 px-2 text-right">1,920</td><td class="py-3 pl-2 pr-3 text-right text-emerald-600 font-medium">6%</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Social Media</td><td class="py-3 px-2 text-right">28,000</td><td class="py-3 px-2 text-right">1,120</td><td class="py-3 pl-2 pr-3 text-right text-emerald-600 font-medium">4%</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Email</td><td class="py-3 px-2 text-right">15,000</td><td class="py-3 px-2 text-right">1,200</td><td class="py-3 pl-2 pr-3 text-right text-emerald-600 font-medium">8%</td></tr>
            <tr class="hover:bg-slate-50"><td class="py-3 pl-3 pr-2">Paid Ads</td><td class="py-3 px-2 text-right">22,000</td><td class="py-3 px-2 text-right">1,540</td><td class="py-3 pl-2 pr-3 text-right text-emerald-600 font-medium">7%</td></tr>
          </tbody>
        </table>
      </div>
    </article>

    <!-- Operational Performance -->
    <article class="h-full rounded-2xl bg-white ring-1 ring-slate-200/80 shadow-sm p-6 flex flex-col">
      <header class="mb-5">
        <h3 class="text-[22px] leading-tight font-semibold text-slate-800">Operational Performance</h3>
        <p class="text-sm text-slate-500">Fulfillment and operational metrics</p>
      </header>

      <div class="flex-1 space-y-6 text-slate-700">
        <div>
          <div class="flex justify-between items-center mb-1.5 text-sm">
            <span>Order Completion Rate</span><span class="font-semibold">97.8%</span>
          </div>
          <div class="h-2.5 w-full bg-slate-100 rounded-full overflow-hidden">
            <div class="h-full w-[97.8%] bg-blue-600 rounded-full"></div>
          </div>
        </div>
        <div>
          <div class="flex justify-between items-center mb-1.5 text-sm">
            <span>On-time Delivery</span><span class="font-semibold">94.2%</span>
          </div>
          <div class="h-2.5 w-full bg-slate-100 rounded-full overflow-hidden">
            <div class="h-full w-[94.2%] bg-blue-600 rounded-full"></div>
          </div>
        </div>
        <div>
          <div class="flex justify-between items-center mb-1.5 text-sm">
            <span>Payment Success Rate</span><span class="font-semibold">98.5%</span>
          </div>
          <div class="h-2.5 w-full bg-slate-100 rounded-full overflow-hidden">
            <div class="h-full w-[98.5%] bg-blue-600 rounded-full"></div>
          </div>
        </div>
      </div>
    </article>
  </div>
</section>

{% endblock %}


{% block extra_js %}

<script>
(function () {
  const onReady = (fn) => {
    if (document.readyState !== 'loading') fn();
    else document.addEventListener('DOMContentLoaded', fn, { once: true });
  };

  function initRevenueChart() {
    const el = document.getElementById('revenueChart');
    if (!el || !window.CanvasJS) return;

    const chart = new CanvasJS.Chart("revenueChart", {
      animationEnabled: true,
      backgroundColor: "transparent",
      axisX: { lineColor: "#e5e7eb", tickColor: "#e5e7eb", labelFontColor: "#64748b" },
      axisY: {
        title: "Revenue (USD)", titleFontColor: "#475569",
        gridColor: "#eef2f7", labelFontColor: "#64748b",
        valueFormatString: "$#,##0"
      },
      data: [{
        type: "splineArea",
        color: "rgba(37,99,235,0.25)",
        lineColor: "rgba(37,99,235,0.9)",
        markerSize: 4,
        xValueFormatString: "YYYY",
        yValueFormatString: "$#,##0",
        dataPoints: [
          { x: new Date(2000, 0), y: 3289000 },
          { x: new Date(2001, 0), y: 3830000 },
          { x: new Date(2002, 0), y: 2009000 },
          { x: new Date(2003, 0), y: 2840000 },
          { x: new Date(2004, 0), y: 2396000 },
          { x: new Date(2005, 0), y: 1613000 },
          { x: new Date(2006, 0), y: 2821000 },
          { x: new Date(2007, 0), y: 2000000 },
          { x: new Date(2008, 0), y: 1397000 },
          { x: new Date(2009, 0), y: 2506000 },
          { x: new Date(2010, 0), y: 2798000 },
          { x: new Date(2011, 0), y: 3386000 },
          { x: new Date(2012, 0), y: 540000 },
          { x: new Date(2013, 0), y: 6026000 },
          { x: new Date(2014, 0), y: 2394000 },
          { x: new Date(2015, 0), y: 1872000 },
          { x: new Date(2016, 0), y: 2140000 },
        ]
      }]
    });
    chart.render();

    // Keep it crisp
    const rerender = () => chart.render();
    window.addEventListener('resize', rerender);
    window.addEventListener('pageshow', rerender);

    // If you use Turbo/HTMX, also:
    document.addEventListener('turbo:load', rerender);
    document.addEventListener('htmx:afterSettle', rerender);
  }

  function ensureCanvasJsAndInit() {
    if (window.CanvasJS) { initRevenueChart(); return; }
    const s = document.createElement('script');
    s.src = "https://cdn.canvasjs.com/canvasjs.min.js";
    s.async = true;
    s.onload = initRevenueChart;
    document.head.appendChild(s);
  }

  onReady(ensureCanvasJsAndInit);
})();
</script> 

<style>
    /* Hide CanvasJS credit / trial watermark completely */
    .canvasjs-chart-credit,
    .canvasjs-chart-credit a,
    .canvasjs-chart-container > a,
    .canvasjs-chart-canvas+div+div {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        height: 0 !important;
        width: 0 !important;
        line-height: 0 !important;
    }
</style>


{% endblock %}