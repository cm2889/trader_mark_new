{% extends 'base.html' %}
{% load static %}

{% block title %}Visitor - Create{% endblock %}

{% block breadcrumb %}
    <span class="mx-1">›</span>
    <a href="{% url 'visitor:list' %}" class="hover:underline">Visitor</a>
    <span class="mx-1">›</span>
    <span>Create</span>
{% endblock %}

{% block content %}
<div class="min-h-screen bg-[var(--bg-color)] py-8 px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="mb-6">
            <h1 class="text-2xl font-semibold text-[var(--text-color)]">Create Visitor</h1>
            <p class="text-sm text-[var(--text-light-color)] mt-1">Fill in the visitor information below</p>
        </div>

        <form method="post" class="space-y-6">
            {% csrf_token %}

            <!-- Visitor Information Card -->
            <div class="bg-white rounded-lg shadow-sm border border-[var(--border-color)] p-6">
                <h2 class="text-lg font-semibold text-[var(--text-color)] mb-4">Visitor Information</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- First Name -->
                    <div>
                        <label class="block text-sm font-medium text-[var(--text-color)] mb-2">
                            First Name <span class="text-red-500">*</span>
                        </label>
                        <input type="text" 
                               name="first_name" 
                               value="{{ form.first_name.value|default:'' }}" 
                               placeholder="Enter first name"
                               required
                               class="w-full h-11 px-3 text-sm bg-white border border-[var(--border-color)] rounded-lg focus:ring-2 focus:ring-[var(--primary-color)] focus:border-transparent outline-none">
                        {% if form.first_name.errors %}
                            <p class="text-red-500 text-xs mt-1">{{ form.first_name.errors.0 }}</p>
                        {% endif %}
                    </div>

                    <!-- Last Name -->
                    <div>
                        <label class="block text-sm font-medium text-[var(--text-color)] mb-2">
                            Last Name <span class="text-red-500">*</span>
                        </label>
                        <input type="text" 
                               name="last_name" 
                               value="{{ form.last_name.value|default:'' }}" 
                               placeholder="Enter last name"
                               required
                               class="w-full h-11 px-3 text-sm bg-white border border-[var(--border-color)] rounded-lg focus:ring-2 focus:ring-[var(--primary-color)] focus:border-transparent outline-none">
                        {% if form.last_name.errors %}
                            <p class="text-red-500 text-xs mt-1">{{ form.last_name.errors.0 }}</p>
                        {% endif %}
                    </div>

                    <!-- Phone Number -->
                    <div>
                        <label class="block text-sm font-medium text-[var(--text-color)] mb-2">
                            Phone Number
                        </label>
                        <input type="text" 
                               name="phone_number" 
                               value="{{ form.phone_number.value|default:'' }}" 
                               placeholder="Enter phone number"
                               class="w-full h-11 px-3 text-sm bg-white border border-[var(--border-color)] rounded-lg focus:ring-2 focus:ring-[var(--primary-color)] focus:border-transparent outline-none">
                        {% if form.phone_number.errors %}
                            <p class="text-red-500 text-xs mt-1">{{ form.phone_number.errors.0 }}</p>
                        {% endif %}
                    </div>

                    <!-- Email -->
                    <div>
                        <label class="block text-sm font-medium text-[var(--text-color)] mb-2">
                            Email
                        </label>
                        <input type="email" 
                               name="email" 
                               value="{{ form.email.value|default:'' }}" 
                               placeholder="Enter email address"
                               class="w-full h-11 px-3 text-sm bg-white border border-[var(--border-color)] rounded-lg focus:ring-2 focus:ring-[var(--primary-color)] focus:border-transparent outline-none">
                        {% if form.email.errors %}
                            <p class="text-red-500 text-xs mt-1">{{ form.email.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Form Actions -->
            <div class="flex items-center justify-end gap-3">
                <a href="{% url 'visitor:list' %}" 
                   class="px-6 py-2.5 text-sm font-medium text-[var(--text-color)] bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors">
                    <i class="fas fa-times mr-2"></i>Cancel
                </a>
                <button type="submit" 
                        class="px-6 py-2.5 text-sm font-medium text-white bg-[var(--primary-color)] rounded-lg hover:opacity-90 transition-opacity">
                    <i class="fas fa-save mr-2"></i>Save Visitor
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Form validation and interactivity
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        
        form.addEventListener('submit', function(e) {
            const firstNameInput = document.querySelector('input[name="first_name"]');
            const lastNameInput = document.querySelector('input[name="last_name"]');
            
            if (!firstNameInput.value.trim() || !lastNameInput.value.trim()) {
                e.preventDefault();
                alert('Please fill in all required fields');
                return false;
            }
        });
    });
</script>
{% endblock %}